<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Green Introduce</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Pretendard',sans-serif;}
    body,html{width:100%;height:100%;overflow:hidden;background:#f9fbf9;}
    .section{width:100%;height:100vh;display:none;justify-content:center;align-items:center;transition:all .5s ease;}
    #sec1{display:flex;flex-direction:column;text-align:center;}
    input,button{margin:8px 0;padding:10px;width:260px;border-radius:8px;border:1px solid #ccc;}
    .muted-link{color:gray;cursor:pointer;}
    .muted-link:hover{text-decoration:underline;}
    #profile-bar{position:fixed;top:10px;left:20px;display:flex;align-items:center;gap:10px;}
    #profile-pic{width:40px;height:40px;border-radius:50%;background:#d3e5d1 url('https://cdn-icons-png.flaticon.com/512/1077/1077114.png') center/60% no-repeat;cursor:pointer;}
    #profile-menu{display:none;position:absolute;top:60px;left:10px;background:white;border-radius:12px;box-shadow:0 2px 6px rgba(0,0,0,0.15);padding:20px;width:260px;}
    .hidden{display:none;}
    #sec3{display:none;flex-direction:column;align-items:center;justify-content:center;}
    #grid{display:grid;grid-template-columns:1fr 1fr 1fr;grid-template-rows:1fr 1fr;gap:20px;text-align:center;width:80%;height:70%;}
    .grid-item{background:white;border-radius:16px;box-shadow:0 2px 6px rgba(0,0,0,0.15);display:flex;justify-content:center;align-items:center;cursor:pointer;font-size:1.2em;}
    #logo{position:absolute;bottom:20px;right:30px;opacity:0.35;font-weight:700;color:#4caf50;font-size:24px;}
    .content-section{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:white;overflow-y:auto;padding:20px;}
    .photo-grid img{width:100%;border-radius:12px;margin-bottom:10px;}
    #shop-items{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;}
    .item{width:160px;background:white;border:1px solid #eee;border-radius:10px;text-align:center;padding:10px;}
    .item img{width:100%;border-radius:10px;height:120px;object-fit:cover;}
    #purchase-modal{display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.4);justify-content:center;align-items:center;}
    #purchase-box{background:white;padding:20px;border-radius:12px;width:300px;}
    #point-display{font-weight:bold;color:#4caf50;}
    .color-option{width:25px;height:25px;border-radius:50%;cursor:pointer;border:1px solid #ccc;}
    .color-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:8px;}
    .avatar-option{width:40px;height:40px;border-radius:50%;cursor:pointer;border:2px solid transparent;background-size:70%;background-repeat:no-repeat;background-position:center;}
    .avatar-option.selected{border:2px solid #4caf50;}
  </style>
</head>
<body>
  <!-- í”„ë¡œí•„ ì˜ì—­ -->
  <div id="profile-bar" class="hidden">
    <div id="profile-pic"></div>
    <span id="profile-name"></span>
    <span id="point-display"></span>
    <div id="profile-menu">
      <p>ğŸ‘¤ í”„ë¡œí•„ ë³€ê²½</p>
      <div style="display:flex;gap:10px;justify-content:center;margin:10px 0;">
        <div id="avatar-male" class="avatar-option" style="background-image:url('https://cdn-icons-png.flaticon.com/512/1077/1077114.png');"></div>
        <div id="avatar-female" class="avatar-option" style="background-image:url('https://cdn-icons-png.flaticon.com/512/4140/4140048.png');"></div>
      </div>
      <p style="font-size:14px;">ğŸ¨ ë°°ê²½ìƒ‰ ì„ íƒ</p>
      <div class="color-grid">
        <div class="color-option" style="background:#4caf50;"></div>
        <div class="color-option" style="background:#2196f3;"></div>
        <div class="color-option" style="background:#ffeb3b;"></div>
        <div class="color-option" style="background:#e91e63;"></div>
        <div class="color-option" style="background:#9c27b0;"></div>
        <div class="color-option" style="background:#ff9800;"></div>
        <div class="color-option" style="background:#00bfa5;"></div>
        <div class="color-option" style="background:#9e9e9e;"></div>
      </div>
      <button id="save-avatar" style="margin-top:10px;">ì €ì¥í•˜ê¸°</button>
      <hr style="margin:15px 0;">
      <p>ğŸ’³ ì¹´ë“œ/í†µì¥ ë“±ë¡</p>
      <input type="text" id="card-number" placeholder="ê³„ì¢Œë²ˆí˜¸">
      <input type="password" id="pay-pin" placeholder="ê²°ì œ ë¹„ë°€ë²ˆí˜¸ (4ìë¦¬)">
      <button id="save-card">ì €ì¥</button>
      <hr style="margin:10px 0;">
      <p>ğŸ’° í¬ì¸íŠ¸ ì¶©ì „í•˜ê¸°</p>
      <input type="number" id="charge-amount" placeholder="ì¶©ì „ ê¸ˆì•¡">
      <input type="password" id="charge-pin" placeholder="ê²°ì œ ë¹„ë°€ë²ˆí˜¸ í™•ì¸">
      <button id="charge-btn">ì¶©ì „í•˜ê¸°</button>
    </div>
  </div>

  <!-- 1ï¸âƒ£ ë¡œê·¸ì¸ -->
  <section id="sec1" class="section">
    <h1>Green Introduce</h1>
    <input type="text" id="login-id" placeholder="ì•„ì´ë””">
    <input type="password" id="login-pw" placeholder="ë¹„ë°€ë²ˆí˜¸">
    <button onclick="login()">ë¡œê·¸ì¸</button>
    <span class="muted-link" id="to-signup">íšŒì›ê°€ì…</span>
  </section>

  <!-- 2ï¸âƒ£ íšŒì›ê°€ì… -->
  <section id="sec2" class="section">
    <div class="card">
      <h2>íšŒì›ê°€ì…</h2>
      <input id="su-name" type="text" placeholder="ì´ë¦„">
      <input id="su-dob" type="date">
      <input id="su-id" type="text" placeholder="ì•„ì´ë””">
      <input id="su-pw" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸">
      <button id="btn-do-signup">íšŒì›ê°€ì…</button>
    </div>
  </section>

  <!-- 3ï¸âƒ£ ë©”ì¸ ì„¹ì…˜ -->
  <section id="sec3" class="section">
    <div id="grid">
      <div class="grid-item" id="main-btn">Main</div>
      <div class="grid-item" id="challenge-btn">Challenge</div>
      <div class="grid-item" id="community-btn">Community</div>
      <div class="grid-item" id="campaign-btn">Campaign</div>
      <div class="grid-item" id="shop-btn">Shop</div>
    </div>
    <div id="logo">ğŸŒ¿ GreenIntroduce</div>
  </section>

  <!-- Main -->
  <div id="main-content" class="content-section">
    <h2>ì˜¤ëŠ˜ì˜ ë¯¸ì…˜</h2>
    <ul>
      <li>ì¼íšŒìš©í’ˆ ì¤„ì´ê¸°</li>
      <li>ë¶„ë¦¬ë°°ì¶œ ì² ì €íˆ í•˜ê¸°</li>
      <li>ì—ë„ˆì§€ ì ˆì•½í•˜ê¸°</li>
      <li>ëŒ€ì¤‘êµí†µ/ìì „ê±° ì´ìš©í•˜ê¸°</li>
      <li>ì¹œí™˜ê²½ ì†Œë¹„ ì‹¤ì²œí•˜ê¸°</li>
    </ul>
    <h3 style="margin-top:20px;">ğŸŒ± EcoFriend ê´‘ê³ </h3>
    <p>ì¹œí™˜ê²½ ìŠ¤íƒ€íŠ¸ì—… EcoFriendê°€ ë§Œë“  <strong>ëŒ€ë‚˜ë¬´ ì¹«ì†”</strong>ì„ ì‚¬ìš©í•´ë³´ì„¸ìš”.<br>ì§€êµ¬ë¥¼ ìœ„í•œ ì‘ì€ ìŠµê´€, EcoFriendì™€ í•¨ê»˜ ğŸŒ</p>
  </div>

  <!-- Challenge -->
  <div id="challenge-content" class="content-section">
    <h2>ìƒíƒœÂ·í™˜ê²½ ê´€ë ¨ ìˆì¸  / ë™ì˜ìƒ</h2>
    <div class="photo-grid">
      <img src="https://images.unsplash.com/photo-1501004318641-b39e6451bec6">
      <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee">
      <img src="https://images.unsplash.com/photo-1501854140801-50d01698950b">
      <img src="https://images.unsplash.com/photo-1503264116251-35a269479413">
      <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e">
      <img src="https://images.unsplash.com/photo-1517511620798-cec17d428bc0">
      <img src="https://images.unsplash.com/photo-1496483648148-47c686dc86a8">
      <img src="https://images.unsplash.com/photo-1473187983305-f615310e7daa">
      <img src="https://images.unsplash.com/photo-1503264116251-35a269479413">
      <img src="https://images.unsplash.com/photo-1441974231531-c6227db76b6e">
    </div>
  </div>

  <!-- Community -->
  <div id="community-content" class="content-section">
    <h2>ë¬¸ì˜ì‚¬í•­</h2>
    <textarea rows="4" style="width:100%;"></textarea>
    <h2>ì˜ê²¬ ê²Œì‹œíŒ</h2>
    <textarea rows="4" style="width:100%;"></textarea>
    <p>í¬ì¸íŠ¸ë¡œ ìƒíƒœÂ·í™˜ê²½ ë³´í˜¸ ë‹¨ì²´ë¥¼ í›„ì›í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
    <input type="number" id="donation-amount" placeholder="í›„ì› ê¸ˆì•¡ ì…ë ¥">
    <button id="donate-btn">í›„ì›í•˜ê¸°</button>
  </div>

  <!-- Shop -->
  <div id="shop-content" class="content-section">
    <h2>Shop</h2>
    <input type="text" id="search-item" placeholder="ìƒí’ˆ ê²€ìƒ‰">
    <div id="shop-items">
      <div class="item">
        <img src="https://images.unsplash.com/photo-1598966893418-376fda64b4d2">
        <p>ëŒ€ë‚˜ë¬´ ì¹«ì†” - 3000P</p>
        <button onclick="purchase(3000)">êµ¬ë§¤í•˜ê¸°</button>
      </div>
      <div class="item">
        <img src="https://images.unsplash.com/photo-1563245372-f26b8c7e3a9e">
        <p>ì—ì½” í…€ë¸”ëŸ¬ - 5000P</p>
        <button onclick="purchase(5000)">êµ¬ë§¤í•˜ê¸°</button>
      </div>
    </div>
  </div>

  <!-- Campaign -->
  <div id="campaign-content" class="content-section">
    <h2>+ ë¯¸ì…˜ ì˜¬ë¦¬ê¸°</h2>
    <input type="text" placeholder="ê²Œì‹œë¬¼ ì œëª©" style="width:100%;margin-bottom:10px;">
    <textarea rows="5" placeholder="ê²Œì‹œë¬¼ ë‚´ìš©" style="width:100%;"></textarea>
  </div>

  <script>
    const sec1=document.getElementById("sec1"),
          sec2=document.getElementById("sec2"),
          sec3=document.getElementById("sec3"),
          profileBar=document.getElementById("profile-bar"),
          profilePic=document.getElementById("profile-pic"),
          profileMenu=document.getElementById("profile-menu"),
          pointDisplay=document.getElementById("point-display");

    let userDB={}, currentUser=null, userPoints=100, accountRegistered=false, payPIN="", avatarURL="", bgColor="#d3e5d1";

    window.onload=()=>{showSection(sec1); updatePoints();};

    function showSection(sec){
      [sec1,sec2,sec3].forEach(s=>s.style.display="none");
      sec.style.display="flex";
    }

    function updatePoints(){
      pointDisplay.textContent=`ğŸ’° ${userPoints}P`;
    }

    // âœ… íšŒì›ê°€ì… í´ë¦­ ì‹œ 2ë²ˆì§¸ ì„¹ì…˜ ì´ë™
    document.getElementById("to-signup").addEventListener("click", ()=>{
      showSection(sec2);
    });

    // âœ… ë¹„ë°€ë²ˆí˜¸ ì¡°ê±´ ì‚­ì œë¨
    document.getElementById("btn-do-signup").onclick=()=>{
      const name=document.getElementById("su-name").value.trim();
      const dob=document.getElementById("su-dob").value;
      const id=document.getElementById("su-id").value.trim();
      const pw=document.getElementById("su-pw").value.trim();
      if(!name||!dob||!id||!pw){alert("ì •ë³´ë¥¼ ëª¨ë‘ ì…ë ¥í•´ ì£¼ì„¸ìš”.");return;}
      userDB={id,pw,name};
      alert("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
      showSection(sec1);
    };

    function login(){
      const id=document.getElementById("login-id").value.trim();
      const pw=document.getElementById("login-pw").value.trim();
      if(id===userDB.id&&pw===userDB.pw){
        currentUser=userDB.name;
        profileBar.classList.remove("hidden");
        document.getElementById("profile-name").textContent=currentUser;
        showSection(sec3);
        updatePoints();
      }else alert("ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
    }

    profilePic.onclick=()=>{profileMenu.style.display=profileMenu.style.display==="none"?"block":"none";};

    document.getElementById("save-card").onclick=()=>{
      accountRegistered=true;
      payPIN=document.getElementById("pay-pin").value;
      alert("ì¹´ë“œ/í†µì¥ ë“±ë¡ ì™„ë£Œ!");
      profileMenu.style.display="none";
    };

    document.getElementById("charge-btn").onclick=()=>{
      const amount=parseInt(document.getElementById("charge-amount").value);
      const pin=document.getElementById("charge-pin").value;
      if(!accountRegistered){alert("ë¨¼ì € ì¹´ë“œ/í†µì¥ì„ ë“±ë¡í•˜ì„¸ìš”.");return;}
      if(pin!==payPIN){alert("ê²°ì œ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");return;}
      if(amount>0){
        userPoints+=amount;
        alert(`í¬ì¸íŠ¸ ${amount}P ì¶©ì „ ì™„ë£Œ!`);
        updatePoints();
      }else alert("ì¶©ì „ ê¸ˆì•¡ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”.");
    };

    let selectedAvatar="male";
    document.getElementById("avatar-male").onclick=()=>selectAvatar("male");
    document.getElementById("avatar-female").onclick=()=>selectAvatar("female");

    function selectAvatar(type){
      selectedAvatar=type;
      document.getElementById("avatar-male").classList.remove("selected");
      document.getElementById("avatar-female").classList.remove("selected");
      document.getElementById(`avatar-${type}`).classList.add("selected");
    }

    document.querySelectorAll(".color-option").forEach(c=>{
      c.onclick=()=>{bgColor=c.style.background;};
    });

    document.getElementById("save-avatar").onclick=()=>{
      avatarURL=selectedAvatar==="male"
        ?"https://cdn-icons-png.flaticon.com/512/1077/1077114.png"
        :"https://cdn-icons-png.flaticon.com/512/4140/4140048.png";
      profilePic.style.background=`${bgColor} url('${avatarURL}') center/60% no-repeat`;
      alert("í”„ë¡œí•„ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤!");
    };

    document.getElementById("donate-btn").onclick=()=>{
      const amount=parseInt(document.getElementById("donation-amount").value);
      processPayment(amount,"í›„ì›");
    };

    function purchase(price){
      processPayment(price,"ìƒí’ˆ ê²°ì œ");
    }

    function processPayment(amount,type){
      if(amount<=0){alert("ê¸ˆì•¡ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•˜ì„¸ìš”.");return;}
      if(userPoints>=amount){
        userPoints-=amount;
        alert(`${type} ì™„ë£Œ! ${amount}P ì°¨ê°ë˜ì—ˆìŠµë‹ˆë‹¤.`);
        updatePoints();
      }else{
        if(!accountRegistered){alert("í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•˜ê³  ê³„ì¢Œê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");return;}
        const shortage=amount-userPoints;
        const confirmPay=prompt(`í¬ì¸íŠ¸ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤. ë¶€ì¡±ë¶„ ${shortage}ì›ì„ ê³„ì¢Œë¡œ ê²°ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/N)`);
        if(confirmPay&&confirmPay.toUpperCase()==="Y"){
          const inputPIN=prompt("ê²°ì œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:");
          if(inputPIN===payPIN){
            userPoints=0;
            alert(`${type} ì™„ë£Œ! ë¶€ì¡±ë¶„ ${shortage}ì›ì´ ê²°ì œë˜ì—ˆìŠµë‹ˆë‹¤.`);
            updatePoints();
          }else alert("ê²°ì œ ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
        }
      }
    }
  </script>
</body>
</html>
