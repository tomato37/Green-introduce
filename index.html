<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Green Introduce - Expanded</title>
<style>
:root {
  --bg: #f0f7f0;
  --card: #fff;
  --muted: #9aa5a0;
  --accent: #2f9d5a;
}
html, body {
  height: 100%;
  margin: 0;
  font-family: "Noto Sans KR", sans-serif;
  background: var(--bg);
  overflow: hidden;
}
.section {
  width: 100%;
  height: 100vh;
  display: none;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  transition: opacity .35s ease;
}
.section.active { display: flex; }

/* 카드 */
.card {
  width: 520px;
  max-width: 92%;
  background: var(--card);
  border-radius: 18px;
  padding: 34px;
  box-shadow: 0 10px 30px rgba(10,30,15,0.06);
  display: flex;
  flex-direction: column;
  gap: 14px;
  align-items: center;
}
input {
  width: 100%;
  padding: 12px 14px;
  border-radius: 10px;
  border: 1px solid #e6efe7;
  font-size: 15px;
}
input::placeholder { color: var(--muted); }

.muted-link {
  background: none;
  border: none;
  color: var(--muted);
  font-size: 14px;
  cursor: pointer;
}
.btn {
  padding: 10px 14px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(180deg,#2f9d5a,#1f7a44);
  color: white;
  cursor: pointer;
  font-weight: 600;
}

/* 메인(3섹션) */
.topbar {
  width: calc(100% - 80px);
  max-width: 1200px;
  background: rgba(255,255,255,0.95);
  border-radius: 12px;
  padding: 12px 18px;
  display: flex;
  justify-content: space-between;
  margin-bottom: 24px;
}
.grid {
  display: grid;
  grid-template-columns: repeat(2, 260px);
  grid-template-rows: repeat(3, 160px);
  gap: 16px;
}
.tile {
  background: #fff;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(10,30,10,0.04);
}

/* 새로 뜨는 세부 섹션 */
.subsection {
  background: var(--card);
  width: 90%;
  max-width: 700px;
  border-radius: 14px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(10,30,15,0.06);
  overflow-y: auto;
  height: 80vh;
}
.backbtn {
  background: none;
  border: none;
  color: var(--accent);
  font-weight: bold;
  margin-bottom: 10px;
  cursor: pointer;
}

/* 상품카드 */
.products {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(150px,1fr));
  gap: 12px;
}
.product {
  border: 1px solid #e6efe7;
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  cursor: pointer;
}
.product img {
  width: 100%;
  height: 100px;
  object-fit: cover;
  border-radius: 8px;
}
</style>
</head>
<body>

<!-- SECTION 1 -->
<section id="sec1" class="section active">
  <div class="card">
    <h1>Green introduce</h1>
    <input id="login-id" type="text" placeholder="아이디">
    <input id="login-pw" type="password" placeholder="비번">
    <div style="width:100%; display:flex; justify-content:space-between;">
      <button id="btn-go-signup" class="muted-link">회원가입</button>
      <button id="btn-login" class="btn">로그인</button>
    </div>
  </div>
</section>

<!-- SECTION 2 -->
<section id="sec2" class="section">
  <div class="card">
    <h2>회원가입</h2>
    <input id="su-name" type="text" placeholder="이름">
    <!-- ✅ 1. 생년월일 datepicker -->
    <input id="su-dob" type="date" placeholder="생년월일">
    <input id="su-id" type="text" placeholder="아이디">
    <input id="su-pw" type="password" placeholder="비밀번호">
    <button id="btn-do-signup" class="muted-link">회원가입</button>
  </div>
</section>

<!-- SECTION 3 -->
<section id="sec3" class="section">
  <div class="topbar">
    <div id="profile-area">비회원</div>
    <div id="stats-area">
      <span id="points">포인트: 0원</span> | <span id="days">이용일수: 0일</span>
    </div>
  </div>
  <div class="grid">
    <!-- ✅ 2~3. 위치 변경 + Main 글자 수정 -->
    <div class="tile" id="tile-main" style="grid-column:1;grid-row:1;">Main</div>
    <div class="tile" id="tile-challenge" style="grid-column:2;grid-row:1;">Challenge</div>
    <div class="tile" id="tile-community" style="grid-column:2;grid-row:2;">Community</div>
    <div class="tile" id="tile-shop" style="grid-column:1;grid-row:3;">Shop</div>
    <div class="tile" id="tile-campaign" style="grid-column:2;grid-row:3;">Campaign</div>
  </div>
</section>

<!-- 각 메뉴 클릭 시 열릴 섹션들 -->
<section id="community-sec" class="section">
  <div class="subsection">
    <button class="backbtn" onclick="showSection(3)">← 돌아가기</button>
    <h2>Community</h2>
    <p>문의사항, 의견 게시판</p>
    <p>포인트로 생태/환경 보호 단체에 후원할 수 있습니다.</p>
  </div>
</section>

<section id="main-sec" class="section">
  <div class="subsection">
    <button class="backbtn" onclick="showSection(3)">← 돌아가기</button>
    <h2>오늘의 미션</h2>
    <p>참여자 수: <strong>123명</strong></p>
    <hr>
    <p style="margin-top:50px;">(로고, 광고 위치)</p>
  </div>
</section>

<section id="challenge-sec" class="section">
  <div class="subsection">
    <button class="backbtn" onclick="showSection(3)">← 돌아가기</button>
    <h2>Challenge</h2>
    <p>생태·환경 관련 숏폼 / 동영상</p>
    <button id="btn-add-challenge" class="btn">+ 업로드</button>
  </div>
</section>

<section id="challenge-upload-sec" class="section">
  <div class="subsection">
    <button class="backbtn" onclick="showSection('challenge')">← 돌아가기</button>
    <h2>영상 업로드</h2>
    <input type="text" placeholder="미디어 제목">
    <input type="text" placeholder="#해시태그">
    <textarea style="width:100%;height:100px;" placeholder="내용/설명"></textarea>
    <button id="btn-post-challenge" class="btn">게시하기</button>
  </div>
</section>

<section id="shop-sec" class="section">
  <div class="subsection">
    <button class="backbtn" onclick="showSection(3)">← 돌아가기</button>
    <h2>Shop</h2>
    <p>친환경제품을 포인트로 구매할 수 있습니다.</p>
    <div class="products" id="shop-products"></div>
  </div>
</section>

<section id="shop-detail-sec" class="section">
  <div class="subsection" id="shop-detail-content"></div>
</section>

<section id="shop-buy-sec" class="section">
  <div class="subsection">
    <button class="backbtn" onclick="showSection('shop')">← 돌아가기</button>
    <h2>구매창</h2>
    <input placeholder="구매 개수">
    <input placeholder="이름">
    <input placeholder="계좌번호">
    <input placeholder="카드 비밀번호">
    <input id="auth-code" placeholder="인증번호 (2초 뒤 표시)">
    <p id="code-area"></p>
  </div>
</section>

<section id="campaign-sec" class="section">
  <div class="subsection">
    <button class="backbtn" onclick="showSection(3)">← 돌아가기</button>
    <h2>Campaign</h2>
    <p>+ 버튼을 눌러 환경 문제 해결 미션을 제시하거나 사진/영상을 공유할 수 있습니다.</p>
    <p>게시물 1개당 3포인트 적립됩니다.</p>
    <button class="btn">+ 미션 올리기</button>
  </div>
</section>

<script>
let registeredUser = null;
const sections = {
  1: document.getElementById("sec1"),
  2: document.getElementById("sec2"),
  3: document.getElementById("sec3"),
  community: document.getElementById("community-sec"),
  main: document.getElementById("main-sec"),
  challenge: document.getElementById("challenge-sec"),
  challengeUpload: document.getElementById("challenge-upload-sec"),
  shop: document.getElementById("shop-sec"),
  shopDetail: document.getElementById("shop-detail-sec"),
  shopBuy: document.getElementById("shop-buy-sec"),
  campaign: document.getElementById("campaign-sec")
};

function showSection(id){
  for(const key in sections){ sections[key].classList.remove('active'); }
  sections[id].classList.add('active');
}

/* 로그인/회원가입 */
document.getElementById("btn-go-signup").onclick = ()=> showSection(2);
document.getElementById("btn-do-signup").onclick = ()=>{
  const id = document.getElementById("su-id").value;
  const pw = document.getElementById("su-pw").value;
  registeredUser = {id, pw, name: document.getElementById("su-name").value};
  alert("회원가입 완료!");
  showSection(1);
};
document.getElementById("btn-login").onclick = ()=>{
  if(registeredUser &&
     registeredUser.id === document.getElementById("login-id").value &&
     registeredUser.pw === document.getElementById("login-pw").value){
      showSection(3);
  } else alert("아이디 또는 비밀번호가 잘못되었습니다.");
};

/* 타일 클릭 → 각 섹션 열기 */
document.getElementById("tile-community").onclick = ()=> showSection("community");
document.getElementById("tile-main").onclick = ()=> showSection("main");
document.getElementById("tile-challenge").onclick = ()=> showSection("challenge");
document.getElementById("tile-shop").onclick = ()=> showSection("shop");
document.getElementById("tile-campaign").onclick = ()=> showSection("campaign");

/* Challenge + 버튼 */
document.getElementById("btn-add-challenge").onclick = ()=> showSection("challengeUpload");
document.getElementById("btn-post-challenge").onclick = ()=>{
  alert("게시 완료!");
  showSection("challenge");
};

/* SHOP 데이터 */
const products = [
  {name:"대나무 칫솔", price:3000, img:"https://picsum.photos/200?1"},
  {name:"리필 샴푸", price:12000, img:"https://picsum.photos/200?2"},
  {name:"친환경 장바구니", price:8000, img:"https://picsum.photos/200?3"},
  {name:"재활용 텀블러", price:10000, img:"https://picsum.photos/200?4"},
  {name:"유기농 비누", price:6000, img:"https://picsum.photos/200?5"},
  {name:"무플라스틱 컵", price:7000, img:"https://picsum.photos/200?6"},
  {name:"에코백", price:5000, img:"https://picsum.photos/200?7"},
  {name:"천연 수세미", price:4000, img:"https://picsum.photos/200?8"},
  {name:"재활용 노트", price:2000, img:"https://picsum.photos/200?9"},
  {name:"친환경 빨대 세트", price:3500, img:"https://picsum.photos/200?10"},
];
const shopContainer = document.getElementById("shop-products");
products.forEach((p,i)=>{
  const div = document.createElement("div");
  div.className="product";
  div.innerHTML=`<img src="${p.img}"><h4>${p.name}</h4><p>${p.price}P</p>`;
  div.onclick=()=>{
    document.getElementById("shop-detail-content").innerHTML=`
      <button class='backbtn' onclick='showSection("shop")'>← 돌아가기</button>
      <h2>${p.name}</h2>
      <img src='${p.img}' style='width:100%;border-radius:8px;'>
      <p>가격: ${p.price}P</p>
      <button class='btn' onclick='showSection("shopBuy")'>구매하기</button>
    `;
    showSection("shopDetail");
  };
  shopContainer.appendChild(div);
});

/* 구매창 인증번호 표시 */
const codeArea = document.getElementById("code-area");
document.getElementById("shop-buy-sec").addEventListener("transitionend", ()=>{
  // not reliable; use timeout on enter
});
sections.shopBuy.addEventListener("transitionstart", ()=>{
  if(sections.shopBuy.classList.contains("active")){
    setTimeout(()=>{
      const code = Math.floor(1000 + Math.random()*9000);
      codeArea.textContent = "인증번호: "+code;
    },2000);
  }
});
</script>
</body>
</html>
